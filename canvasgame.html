<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classic Pong</title>
</head>
<style>
  body{ background-color: aquamarine;
    background-image: url("bg.png");
    background-repeat: no-repeat;
    background-size: cover;
  }
  h1{
    color: white;
    text-align: center;
  }
  canvas{
    border: 10px rgb(20, 38, 173) solid;
    position: relative;
    left: 400px;
  }
  button{
    position: relative;
    left: 490px;
  }

   
</style>
<body onload="draw()">


          <h1>! Pong !</h1>
          
  <canvas id="mycanvas" width="640" height="480"></canvas>
  

  <script type="text/javascript">
  
   var p1y = p2y = 60;
   var pthick = 10;
   var pheight = 100;
   var ballx = bally = 20;
   var bd = 5;
   var xvel = yvel = 20;
   var score1 = score2 = 0;
   var aiSpeed = 6;
   
  
    window.onload = function(){
      c = document.getElementById('mycanvas');
      cc = c.getContext('2d');
      cc.font = '50px Arial';
      setInterval(update, 1000/30);
      c.addEventListener('mousemove', (e)=> {
        p1y = e.clientY-pheight/2;
      });
    }
  
    function reset() {
      ballx = c.width/2;
      ballyx = c.height/2;
      xvel = -xvel;
      yvel = 7;
    }
  
    function update() {
      ballx += xvel;
      bally += yvel;
  
      if (bally < 0 && yvel < 0) {
        yvel = -yvel;
      }
  
      if (bally > c.height && yvel > 0) {
        yvel = -yvel;
      }
  
      
      if (ballx < 0) {
        if (bally > p1y && bally < p1y + pheight) {
          xvel = -xvel;
          deltaY = bally - (p1y + pheight/2);
          yvel = deltaY*0.3;
        } else {
          score2++;
          reset();
        }
      }
  
      
      if (ballx > c.width) {
        if (bally > p2y && bally < p2y + pheight) {
          xvel = -xvel;
          deltaY = bally - (p2y + pheight/2);
          yvel = deltaY*0.3;
        } else {
          score1++;
          reset();
        }
      }
  
      if (p2y+pheight/2 < bally || p2y+pheight/2 < bally+10) {
        p2y += aiSpeed;
      }
      if (p2y+pheight/2 > bally || p2y+pheight/2 > bally-10) {
        p2y -= aiSpeed;
      }
  
    
      cc.fillStyle = 'lightblue';
      cc.fillRect(0, 0, c.width, c.height);
      
      cc.fillStyle = 'firebrick';
      cc.fillRect(ballx-bd/2, bally-bd/2, bd, bd);
      
      cc.fillStyle = 'darkblue';
      cc.fillRect(0, p1y, pthick, pheight);
      
      cc.fillText(score1, 100, 50);
      
      cc.fillStyle = 'green';
      cc.fillRect(c.width-pthick, p2y, pthick, pheight);
      
      cc.fillText(score2, c.width-100, 50);

   
      }
    </script>
    <br>
    <br>
    <br>
    <button onClick="window.location.reload();">Refresh Page</button>
   
  
    
</body>
</html>